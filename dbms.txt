
1.Find all active partnerships involving a specific company user.

SELECT DISTINCT p.*
FROM Partnership p
JOIN Partnership_User_Role pur ON p.id = pur.partnership_id
JOIN User u ON pur.user_id = u.id
WHERE u.id = :userId AND p.status = 'Active';


2.List all company users with their roles.

SELECT u.name, u.email, u.role, c.name AS company_name
FROM User u
JOIN Company c ON u.company_id = c.id;


3.List all users associated with a specific partnership, including their roles.
SELECT u.name, u.email, pur.role
FROM Partnership_User_Role pur
JOIN User u ON pur.user_id = u.id
WHERE pur.partnership_id = :partnershipId;


4.Get the total revenue generated by the specific partnership for a company.
ELECT SUM(o.amount) AS total_revenue
FROM Opportunity o
JOIN Account a ON o.account_id = a.id
JOIN Lead l ON a.lead_id = l.id
JOIN Campaign c ON l.campaign_id = c.id
WHERE c.partnership_id = :partnershipId AND a.company_id = :companyId;

